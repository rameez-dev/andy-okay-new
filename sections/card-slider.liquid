{% if section.blocks.size > 0 %}
<div class="cards-slideshow-cont separate-card-slider slide-{{ section.id }}">
    {% if section.blocks.size > 1 %}
    <div class="cards-carousel-header">
        <button class="slick-prev card-prev slick-control">{% include 'icon' with 'select-arrow-left' %}</button>
        <button class="slick-next card-next slick-control">{% include 'icon' with 'select-arrow-right' %}</button>
    </div>
    {% endif %}
    <div class="cards-carousel">
    {% for block in section.blocks %}
        <div class="cards-slideshow-item">
        <img class="card-img" src="{{ block.settings.image |  image_url: width: 500 }}">
        <div class="card-heading">{{ block.settings.heading }}</div>
        <div class="card-content">{{ block.settings.content }}</div>
        </div>
    {% endfor %}
    </div>
</div>
{% endif %}

<script>
  $(document).ready(function(){

    $('.slide-{{ section.id }} .cards-carousel').slick({
        dots: false,
        infinite: false,
        slidesToShow: 6.3,
        prevArrow: $('.slide-{{ section.id }} .card-prev'),
        nextArrow: $('.slide-{{ section.id }} .card-next'),
        responsive: [
            {
              breakpoint: 2400,
              settings: {
                  slidesToShow: 5.3
              }
            },
            {
            breakpoint: 2000,
            settings: {
                slidesToShow: 4.3
            }
            },
            {
            breakpoint: 1600,
            settings: {
                slidesToShow: 3.3
            }
            },
            {
            breakpoint: 1200,
            settings: {
                slidesToShow: 2.3
            }
            },
            {
            breakpoint: 800,
            settings: {
                slidesToShow: 1.3
            }
            }
        ]
    });
  });
</script>

{% schema %}
{ 
    "name":"Card Slider",
    "settings": [
    ],
    "blocks": [
        {
        "type": "card",
        "name": "card",
        "settings": [
            {
            "id": "image",
            "type": "image_picker",
            "label": "Image"  
            },
            {
            "type": "text",
            "id": "heading",
            "label": "Heading"
            },
            {
            "type": "inline_richtext",
            "id": "content",
            "label": "Content"
            }
        ]
        }
    ],
    "presets": [
    {
    "name": "Card Slider"
    }
    ]
}
{% endschema %}